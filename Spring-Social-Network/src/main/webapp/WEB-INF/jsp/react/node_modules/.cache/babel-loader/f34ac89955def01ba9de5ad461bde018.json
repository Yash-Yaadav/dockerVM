{"ast":null,"code":"import _slicedToArray from\"/root/Spring-Social-Network/src/main/webapp/WEB-INF/jsp/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Axios from'axios';import'./profileBg.css';import'../css/fixedNavBar.css';import DataServices from'../services/DataServices';import Dropzone from\"./Dropzone\";import DropzoneBg from'./DropzoneBg';import Post from\"./Post\";import{CurrentUserContext}from\"./Navbar\";export default function ProfileBg(props){var style={objectFit:'cover',borderRadius:'50%',width:'250px',height:'250px'};var background={background:\"url(\\\"/api/profile/image-background/download\\\")\",backgroundSize:\"cover\",height:\"300px\"};var bgImageStyle={height:'340px'};var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),posts=_React$useState4[0],setPosts=_React$useState4[1];function getCurrentUser(){DataServices.getCurrentUser().then(function(response){console.log(\"user in profile : \",response.data);setUser(response.data);getProfilePosts(response.data.userId);}).catch(function(error){console.log(error.response);});}function getProfilePosts(userId){Axios.get(\"/post/getUsersPosts/\".concat(userId)).then(function(response){setPosts(response.data);}).catch(function(err){console.log(err);});}React.useEffect(function(){getCurrentUser();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 offset-md-3 offset-0 marginFromTopForFixedNavbar\"},/*#__PURE__*/React.createElement(\"div\",{id:\"cssSelector\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card hovercard\"},/*#__PURE__*/React.createElement(\"div\",{style:background},/*#__PURE__*/React.createElement(DropzoneBg,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"avatar\"},/*#__PURE__*/React.createElement(\"img\",{style:style,alt:\"image-profile\",src:\"/api/profile/image/download\"}),/*#__PURE__*/React.createElement(Dropzone,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"h3\",null,user.firstName,\" \",user.lastName)),/*#__PURE__*/React.createElement(\"div\",{className:\"desc\"},\"Birthday \",new Date(user.birthday).toLocaleDateString(\"en-GB\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-12 offset-md-3\"},posts.map(function(post){return/*#__PURE__*/React.createElement(Post,{post:post});})));}","map":{"version":3,"sources":["/root/Spring-Social-Network/src/main/webapp/WEB-INF/jsp/react/src/components/ProfileBg.jsx"],"names":["React","Axios","DataServices","Dropzone","DropzoneBg","Post","CurrentUserContext","ProfileBg","props","style","objectFit","borderRadius","width","height","background","backgroundSize","bgImageStyle","useState","user","setUser","posts","setPosts","getCurrentUser","then","response","console","log","data","getProfilePosts","userId","catch","error","get","err","useEffect","firstName","lastName","Date","birthday","toLocaleDateString","map","post"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Axios from 'axios';\nimport './profileBg.css';\nimport '../css/fixedNavBar.css';\n\nimport DataServices from '../services/DataServices';\nimport Dropzone from \"./Dropzone\";\nimport DropzoneBg from './DropzoneBg';\nimport Post from \"./Post\";\nimport {CurrentUserContext} from \"./Navbar\";\n\n\nexport default function ProfileBg(props) {\n\n    const style = {\n        objectFit: 'cover',\n        borderRadius: '50%',\n        width: '250px',\n        height: '250px'\n    };\n\n\n    const background = {\n        background: `url(\"/api/profile/image-background/download\")`,\n        backgroundSize: \"cover\",\n        height: \"300px\"\n    };\n\n    const bgImageStyle = {\n        height: '340px'\n    };\n\n    const [user, setUser] = React.useState({});\n    const [posts, setPosts] = React.useState([]);\n\n    function getCurrentUser() {\n        DataServices.getCurrentUser().then(\n            response => {\n                console.log(\"user in profile : \", response.data);\n                setUser(response.data);\n                getProfilePosts(response.data.userId);\n            }\n        ).catch(error => {\n            console.log(error.response)\n        });\n    }\n\n    function getProfilePosts(userId) {\n        Axios.get(`/post/getUsersPosts/${userId}`)\n            .then(response => {\n                setPosts(response.data);\n            }).catch(err => {\n                console.log(err);\n        });\n    }\n\n    React.useEffect(() => {\n        getCurrentUser();\n    }, []);\n\n    return (\n        <>\n            <div className=\"col-md-6 col-12 offset-md-3 offset-0 marginFromTopForFixedNavbar\">\n                <div id=\"cssSelector\">\n                    <div className=\"card hovercard\">\n                        <div style={background}>\n                            <DropzoneBg/>\n                        </div>\n                        <div className=\"avatar\">\n                            <img style={style} alt=\"image-profile\" src=\"/api/profile/image/download\"/>\n                            <Dropzone/>\n                        </div>\n                        <div className=\"info\">\n                            <div className=\"title\">\n                                <h3>{user.firstName} {user.lastName}</h3>\n                            </div>\n                            <div className=\"desc\">Birthday {new Date(user.birthday).toLocaleDateString(\"en-GB\")}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-md-6 col-12 offset-md-3\">\n                {posts.map((post) => (\n                    <Post post={post}/>\n                ))}\n            </div>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}