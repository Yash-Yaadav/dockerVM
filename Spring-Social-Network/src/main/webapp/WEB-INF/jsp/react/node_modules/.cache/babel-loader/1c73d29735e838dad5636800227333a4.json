{"ast":null,"code":"import React,{useCallback}from'react';import{useDropzone}from'react-dropzone';import{useHistory,Link}from\"react-router-dom\";import axios from'axios';function Dropzone(){var history=useHistory();var style={objectFit:'cover',borderRadius:'50%',width:'140px',height:'140px'};var onDrop=useCallback(function(acceptedFiles){var file=acceptedFiles[0];console.log(file);var formData=new FormData();formData.append(\"file\",file);axios.post(\"/api/profile/image/upload\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(){console.log(\"file upload success\");history.push('/');history.push('/profile');}).catch(function(err){console.log(err);});},[]);var _useDropzone=useDropzone({onDrop:onDrop}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps,isDragActive=_useDropzone.isDragActive;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",getRootProps(),/*#__PURE__*/React.createElement(\"input\",getInputProps()),isDragActive?/*#__PURE__*/React.createElement(\"p\",null,\"Drop the image here ...\"):/*#__PURE__*/React.createElement(\"p\",null,\"Drag 'n' drop profile image, or click to select profile image\")));}export default Dropzone;","map":{"version":3,"sources":["/root/Spring-Social-Network/src/main/webapp/WEB-INF/jsp/react/src/components/Dropzone.jsx"],"names":["React","useCallback","useDropzone","useHistory","Link","axios","Dropzone","history","style","objectFit","borderRadius","width","height","onDrop","acceptedFiles","file","console","log","formData","FormData","append","post","headers","then","push","catch","err","getRootProps","getInputProps","isDragActive"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,KAAiC,OAAjC,CACA,OAAQC,WAAR,KAA0B,gBAA1B,CACA,OAASC,UAAT,CAAqBC,IAArB,KAAiC,kBAAjC,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,QAAT,EAAoB,CAEhB,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CAEA,GAAMK,CAAAA,KAAK,CAAG,CACVC,SAAS,CAAE,OADD,CAEVC,YAAY,CAAE,KAFJ,CAGVC,KAAK,CAAE,OAHG,CAIVC,MAAM,CAAE,OAJE,CAAd,CAOA,GAAMC,CAAAA,MAAM,CAAGZ,WAAW,CAAC,SAAAa,aAAa,CAAI,CAC1C,GAAMC,CAAAA,IAAI,CAAGD,aAAa,CAAC,CAAD,CAA1B,CACAE,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAGA,GAAMG,CAAAA,QAAQ,CAAE,GAAIC,CAAAA,QAAJ,EAAhB,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAuBL,IAAvB,EAEAV,KAAK,CAACgB,IAAN,6BAEEH,QAFF,CAGE,CACII,OAAO,CAAC,CACJ,eAAe,qBADX,CADZ,CAHF,EAQEC,IARF,CAQO,UAAI,CACPP,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACAV,OAAO,CAACiB,IAAR,CAAa,GAAb,EACAjB,OAAO,CAACiB,IAAR,CAAa,UAAb,EACH,CAZD,EAYGC,KAZH,CAYS,SAAAC,GAAG,CAAE,CACVV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACH,CAdD,EAiBD,CAzByB,CAyBvB,EAzBuB,CAA1B,CAXgB,iBAqCoCxB,WAAW,CAAC,CAACW,MAAM,CAANA,MAAD,CAAD,CArC/C,CAqCTc,YArCS,cAqCTA,YArCS,CAqCKC,aArCL,cAqCKA,aArCL,CAqCoBC,YArCpB,cAqCoBA,YArCpB,CAuChB,mBACI,qDACQ,0BAASF,YAAY,EAArB,cACJ,4BAAWC,aAAa,EAAxB,CADI,CAGFC,YAAY,cACV,uDADU,cAEV,6FALA,CADR,CADJ,CAYD,CAEH,cAAevB,CAAAA,QAAf","sourcesContent":["import React, {useCallback} from 'react'\nimport {useDropzone} from 'react-dropzone';\nimport { useHistory, Link } from \"react-router-dom\";\n\nimport axios from 'axios';\n\nfunction Dropzone() {\n\n    const history = useHistory();\n\n    const style = {\n        objectFit: 'cover',\n        borderRadius: '50%',\n        width: '140px',\n        height: '140px'\n    };\n\n    const onDrop = useCallback(acceptedFiles => {\n      const file = acceptedFiles[0];\n      console.log(file);\n\n\n      const formData= new FormData();\n      formData.append(\"file\",file);\n\n      axios.post(\n        `/api/profile/image/upload`,\n        formData,\n        {\n            headers:{\n                \"Content-Type\":\"multipart/form-data\"\n            }\n        }\n      ).then(()=>{\n          console.log(\"file upload success\");\n          history.push('/');\n          history.push('/profile');\n      }).catch(err=>{\n          console.log(err);\n      });\n        \n\n    }, [])\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop});\n\n    return (\n        <>\n                <div {...getRootProps()}>\n            <input {...getInputProps()} />\n            {\n              isDragActive ?\n                <p>Drop the image here ...</p> :\n                <p>Drag 'n' drop profile image, or click to select profile image</p>\n            }\n          </div>\n        </>\n    )\n  }\n\nexport default Dropzone;\n"]},"metadata":{},"sourceType":"module"}